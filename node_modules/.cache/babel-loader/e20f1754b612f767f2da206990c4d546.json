{"ast":null,"code":"import _objectSpread from \"/Users/sean/Desktop/CS/react/react-todo-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toArray from \"/Users/sean/Desktop/CS/react/react-todo-app/node_modules/@babel/runtime/helpers/esm/toArray\";\nimport _taggedTemplateLiteral from \"/Users/sean/Desktop/CS/react/react-todo-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/sean/Desktop/CS/react/react-todo-app/src/components/TodoApp.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n    width: 100%;\\n    height: 50px;\\n    padding: 15px;\\n    border-radius: 10px;\\n    border-color: #7fe0fd;\\n    font-size: 1.5em;\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport { Table, Checkbox, Button } from 'semantic-ui-react';\nimport TodoItem from './TodoItem';\nimport styled from 'styled-components';\nconst NewTodo = styled.input(_templateObject());\nconst headers = {\n  'Content-Type': 'application/json'\n};\n\nclass TodoApp extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      todos: [],\n      newTodo: ''\n    };\n\n    this.fetchTodos = () => {\n      fetch('http://localhost:4500/todos').then(data => data.json()).then(todos => this.setState({\n        todos\n      })).catch(err => console.log({\n        err\n      }));\n    };\n\n    this.handleToggleAll = allToggled => {\n      const _this$state$todos = _toArray(this.state.todos),\n            todos = _this$state$todos.slice(0);\n\n      const toggledTodos = todos.map(todo => _objectSpread({}, todo, {\n        completed: !allToggled\n      }));\n      this.setState({\n        todos: toggledTodos\n      });\n    };\n\n    this.handleClearCompleted = () => {\n      const todos = this.state.todos;\n      const completedTodos = todos.filter(todo => todo.completed);\n      Promise.all(completedTodos.map(todo => fetch(\"http://localhost:4500/todos/\".concat(todo.id), {\n        method: 'DELETE',\n        headers\n      }))).then(this.fetchTodos);\n    };\n\n    this.handleInputChange = event => {\n      const value = event.target.value;\n      this.setState({\n        newTodo: value\n      });\n    };\n\n    this.handleNewTodoKeyDown = event => {\n      if (this.state.todos.length >= 10) {\n        return; //Only allows for 10 inputs\n      }\n\n      if (event.keyCode !== 13) {\n        return; //Only add when eneter key is hit\n      }\n\n      event.preventDefault();\n      const newTodo = this.state.newTodo;\n      var value = newTodo.trim();\n\n      if (value) {\n        fetch('http://localhost:4500/todos', {\n          method: 'POST',\n          headers,\n          body: JSON.stringify({\n            title: value,\n            completed: false\n          })\n        }).then(this.fetchTodos).then(() => this.setState({\n          newTodo: ' '\n        }));\n      }\n    };\n\n    this.handleDelete = id => {\n      fetch(\"http://localhost:4500/todos/\".concat(id), {\n        method: 'DELETE',\n        headers\n      }).then(this.fetchTodos);\n    };\n  }\n\n  componentDidMount() {\n    this.fetchTodos();\n  }\n\n  handleTodoClick(todo, index) {\n    const id = todo.id,\n          completed = todo.completed;\n    fetch(\"http://localhost:4500/todos/\".concat(id), {\n      method: 'PATCH',\n      headers,\n      body: JSON.stringify({\n        completed: !completed\n      })\n    }).then(this.fetchTodos);\n  }\n\n  render() {\n    const todos = this.state.todos;\n    const allToggled = todos.every(todo => todo.completed);\n    return React.createElement(\"div\", {\n      className: \"todo-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(NewTodo, {\n      id: \"new-todo\",\n      placeholder: \"Start a new task?\",\n      autoFocus: true,\n      onChange: this.handleInputChange,\n      onKeyDown: this.handleNewTodoKeyDown,\n      value: this.state.newTodo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"new-todo\",\n      style: {\n        display: 'none'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"New Todo\"), todos.length === 0 ? React.createElement(Table, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(Table.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(Table.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Nothing todo!\")))) : React.createElement(Table, {\n      color: \"teal\",\n      unstackable: true,\n      celled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(Table.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(Table.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(Table.HeaderCell, {\n      textAlign: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(Checkbox, {\n      checked: allToggled,\n      onChange: () => this.handleToggleAll(allToggled),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    })), React.createElement(Table.HeaderCell, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Toggle All\"))), React.createElement(Table.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, this.state.todos.map((todo, i) => React.createElement(TodoItem, {\n      key: i,\n      todo: todo,\n      handleToggle: () => this.handleTodoClick(todo, i),\n      handleDelete: () => this.handleDelete(todo.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }))), React.createElement(Table.Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Table.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(Table.HeaderCell, {\n      colSpan: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"small\",\n      onClick: this.handleClearCompleted,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Clear completed\"))))));\n  }\n\n}\n\nexport default TodoApp;","map":{"version":3,"sources":["/Users/sean/Desktop/CS/react/react-todo-app/src/components/TodoApp.js"],"names":["React","Component","Table","Checkbox","Button","TodoItem","styled","NewTodo","input","headers","TodoApp","state","todos","newTodo","fetchTodos","fetch","then","data","json","setState","catch","err","console","log","handleToggleAll","allToggled","toggledTodos","map","todo","completed","handleClearCompleted","completedTodos","filter","Promise","all","id","method","handleInputChange","event","value","target","handleNewTodoKeyDown","length","keyCode","preventDefault","trim","body","JSON","stringify","title","handleDelete","componentDidMount","handleTodoClick","index","render","every","display","i"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport {Table, Checkbox, Button} from 'semantic-ui-react'\nimport TodoItem from './TodoItem'\nimport styled from 'styled-components'\n\nconst NewTodo = styled.input`\n    width: 100%;\n    height: 50px;\n    padding: 15px;\n    border-radius: 10px;\n    border-color: #7fe0fd;\n    font-size: 1.5em;\n`;\n\nconst headers = {\n  'Content-Type': 'application/json'\n}\n\nclass TodoApp extends Component {\n  state = {\n    todos : [  ],\n    newTodo: ''\n  }\n\n  componentDidMount() {\n      this.fetchTodos()\n    }\n\n  fetchTodos = () => {\n    fetch('http://localhost:4500/todos')\n      .then(data => data.json())\n      .then(todos => this.setState({todos}))\n      .catch(err => console.log({err}))\n  }\n\n  handleTodoClick(todo, index) {\n    const {id, completed} = todo\n    fetch(`http://localhost:4500/todos/${id}`,{\n      method: 'PATCH',\n      headers,\n      body: JSON.stringify({completed: !completed})\n    }).then(this.fetchTodos)\n  }\n\n  handleToggleAll = (allToggled) => {\n    const [...todos] =this.state.todos\n    const toggledTodos = todos.map(todo => ({\n      ...todo,\n      completed: !allToggled,\n    }))\n    this.setState({todos: toggledTodos})\n  }\n\n  handleClearCompleted = () => {\n    const {todos} = this.state\n    const completedTodos = todos.filter(\n      todo => todo.completed\n    )\n\n    Promise.all(completedTodos.map(todo =>\n      fetch(`http://localhost:4500/todos/${todo.id}`, {\n        method: 'DELETE',\n        headers,\n      })\n    )).then(this.fetchTodos)\n  }\n\n  handleInputChange = event => {\n    const value=event.target.value\n    this.setState({newTodo: value})\n  }\n\n  handleNewTodoKeyDown = event => {\n    if (this.state.todos.length >= 10) {\n      return //Only allows for 10 inputs\n    }\n\n    if (event.keyCode!==13) {\n      return //Only add when eneter key is hit\n    }\n\n    event.preventDefault()\n\n    const {newTodo} = this.state\n    var value = newTodo.trim()\n    if (value) {\n      fetch('http://localhost:4500/todos',{\n        method: 'POST',\n        headers,\n        body: JSON.stringify({\n          title: value,\n          completed: false\n          })\n        })\n          .then(this.fetchTodos)\n          .then(() => this.setState({newTodo:' '}))\n      }\n    }\n\n  handleDelete = id =>{\n    fetch(`http://localhost:4500/todos/${id}`, {\n      method: 'DELETE',\n      headers,\n    }).then(this.fetchTodos)\n  }\n\n  render() {\n    const {todos} = this.state\n    const allToggled = todos.every(todo => todo.completed)\n    return (\n        <div className='todo-container'>\n          <NewTodo\n            id='new-todo'\n            placeholder='Start a new task?'\n            autoFocus\n            onChange={this.handleInputChange}\n            onKeyDown={this.handleNewTodoKeyDown}\n            value = {this.state.newTodo}\n          />\n          <label\n            htmlFor='new-todo'\n            style={{display: 'none'}}\n          >\n            New Todo\n          </label>\n          {todos.length===0 ? (\n            <Table>\n              <Table.Header>\n                <Table.Row>\n                    <Table.HeaderCell>\n                      Nothing todo!\n                    </Table.HeaderCell>\n                </Table.Row>\n              </Table.Header>\n            </Table>\n          ) : <Table color='teal' unstackable={true} celled>\n            <Table.Header>\n              <Table.Row>\n                <Table.HeaderCell textAlign='center'>\n                  <Checkbox\n                    checked = {allToggled}\n                    onChange={()=>this.handleToggleAll(allToggled)}\n                  />\n                </Table.HeaderCell>\n                <Table.HeaderCell>\n                  Toggle All\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Header>\n            <Table.Body>\n            {this.state.todos.map((todo, i) => (\n              <TodoItem\n                key = {i}\n                todo={todo}\n                handleToggle={() => this.handleTodoClick(todo, i)}\n                handleDelete={() => this.handleDelete(todo.id)}\n              />\n              ))}\n            </Table.Body>\n            <Table.Footer>\n              <Table.Row>\n                <Table.HeaderCell colSpan='2'>\n                  <Button\n                    size='small'\n                    onClick={this.handleClearCompleted}\n                  >\n                    Clear completed\n                  </Button>\n                </Table.HeaderCell>\n              </Table.Row>\n            </Table.Footer>\n          </Table>\n        }\n        </div>\n    )\n  }\n}\n\nexport default TodoApp;\n"]},"metadata":{},"sourceType":"module"}